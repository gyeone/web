<!DOCTYPE html>
<html lang="en">
<html data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ëª¨ë“œ ë³€ê²½</title>
    <link rel="stylesheet" href="mode.css">
</head>
<body>
    <header>
        <h1 id="title">ë‹¤í¬ëª¨ë“œ / ë¼ì´íŠ¸ ëª¨ë“œ ì „í™˜</h1>
    </header>
    <main>
        <button id="mode-button">ë‹¤í¬ëª¨ë“œë¡œ ì „í™˜</button>
        <p id="mode-text">ë²„íŠ¼ì„ í´ë¦­í•´ ë‹¤í¬ëª¨ë“œğŸŒ›ë¡œ ì „í™˜í•´ë³´ì„¸ìš”</p>
    </main>
    <script>
        const mode = document.getElementById('mode-button');
        const text = document.getElementById('mode-text');
        const htmlEl = document.documentElement;
        const theme = htmlEl.getAttribute('data-theme'); 
        const savedTheme = localStorage.getItem('theme'); 
        const savedText = localStorage.getItem('text');
        const savedMode = localStorage.getItem('mode');
        if (savedTheme) {
            htmlEl.setAttribute('data-theme', savedTheme);
        }
        if (savedText){
            text.innerText = savedText;
        }
        if (savedMode){
            mode.innerText = savedMode;
        }
        mode.addEventListener('click', () =>{
            const currentTheme = htmlEl.getAttribute('data-theme') || 'light'; 
            const newTheme = currentTheme === "light" ? "dark" : "light";

            htmlEl.setAttribute('data-theme', newTheme);
            text.innerText = newTheme === "dark" ? 'ë²„íŠ¼ì„ í´ë¦­í•´ ë¼ì´íŠ¸ëª¨ë“œğŸŒë¡œ ì „í™˜í•´ë³´ì„¸ìš”' : 'ë²„íŠ¼ì„ í´ë¦­í•´ ë‹¤í¬ëª¨ë“œğŸŒ›ë¡œ ì „í™˜í•´ë³´ì„¸ìš”';
            mode.innerText = newTheme === "dark" ? 'ë¼ì´íŠ¸ëª¨ë“œë¡œ ì „í™˜' : 'ë‹¤í¬ëª¨ë“œë¡œ ì „í™˜';       
            localStorage.setItem('theme', newTheme);
            localStorage.setItem('text', text.innerText);
            localStorage.setItem('mode', mode.innerText); 
        })
    </script>
    
</body>
</html>
